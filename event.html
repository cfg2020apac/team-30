<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">
    <title>Event</title>
    <link rel="stylesheet" href="css/adminstyle.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Barlow&display=swap" rel="stylesheet">
    <script>
        var data;
        var emails = [];

        function httpGet() {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", "https://test-project-e6786.web.app/recommendation/1", false); // false for synchronous request
            xmlHttp.send(null);
            data = JSON.parse(xmlHttp.responseText);
        }
        httpGet();

        function createTable() {
            $("#recom_text").append(data.length + ")");
            $("#response_text").append(data.length + ")");
            for (var i = 0; i < data.length; i++) {
                var row = document.createElement("tr");
                var no = document.createElement("td");
                no.append(i+1);
                var name = document.createElement("td");
                name.append(data[i].name);
                var email = document.createElement("td");
                email.append(data[i].email);
                row.append(no);
                row.append(name);
                row.append(email);
                $("#table").append(row);
                emails.push(data[i].name);
            }
        }

        function matchVolunteer() {
            $("#match_btn").css("display", "none");
            $("#response_btn2").css("display", "none");
            $("#loader").css("display", "");
            createTable();
            setTimeout(function() {
                $("#loader").css("display", "none");
                $("#recom_text").css("display", "");
                $("table").css("display", "");
                $("#send_btn").css("display", "");
                $("#response_btn").css("display", "");
            }, 2000);
        }

        function sent() {
            alert("Successfully sent event to the " + data.length + " emails:\n" + emails.join(", "));
        }

        function toStatus() {
            window.location.href = 'status.html';
        }
            
    </script>
</head>

<body>
    <!--    Navbar starts here-->
    <nav class="navbar navbar-inverse navbar-fixed-top" style="font-size: 15px; font-weight: bold;">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">HandsOn Connect</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="calendarnew.html"><i class="fa fa-tachometer" aria-hidden="true"></i> Calendar <span class="sr-only">(current)</span></a></li>
                    <li class="active"><a href="event.html"><i class="fa fa-cog" aria-hidden="true"></i> Matching</a></li>
                    <li><a href="status.html"><i class="fa fa-user" aria-hidden="true"></i> Status</a></li>
                    <li><a href="reports.html"><i class="fa fa-question-circle" aria-hidden="true"></i>Reports</a></li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    <!--    Navbar ends here-->

    <div class="jumbotron">
        <div class="container">
            <div class="row">
                <div class="col-sm-8">
                    <h1 class="display-3">Youth Opportunity: Help at animal shelter in Yuen Long</h1>
                    <br>
                    <h2>Date: Sat, 17 Oct 2020&nbsp&nbsp&nbspTime: 12:00 to 16:00</h2>
                </div>
                <div class="col-sm">
                    <img src=".\Images\animal.jpg" width="390" height="250">
                </div>
            </div>
            <h3><b>Description</b></h3>
            <p style="font-size: 15px; text-align: justify">
                Maison De Charlotte Pour Des Chats Et Des Chiens Sarl Limited (MCCC) is a small non-profit
                organization founded in 1997
                and takes in about 200 animals. With no funding and limited manpower and resources, MCCC has been
                working hard for many
                years to provide a warm home to the countless rescued cats and dogs and let those waiting to be
                adopted live happily and
                have enough space for running and jumping. The founder’s mission is to "influence life with life"
                and fight for the
                right to survive for abandoned animals and provide them with the most appropriate medical treatment.
                They never make a
                hasty decision to end the life of an animal, nor delay or stingy medical expenses. They hope to
                disseminate information
                about respect for life, love for animals, "adopt, don’t abandon" and so on.
            </p>
            <br>
            <h3><b>Volunteer roles</b></h3>
            <ul style="font-size: 15px">
                <li>Wash the water pockets for dogs and refill water</li>
                <li>Clean up the dog's poo</li>
                <li>Clean up areas where the dogs sleep, including blankets and towels</li>
                <li>Assist in feeding the dogs, preparing meals, cleaning and washing dishes afterward</li>
                <li>Have great fun with the dogs!</li>
            </ul>
            <br>
            <h3><b>Remarks</b></h3>
            <ul style="font-size: 15px">
                <li>
                    Volunteers must be 16 years old or over. Parental consent is needed for volunteers age 16-17 years old. Please send an
                    email to hohk@handsonhongkong.org with your parental consent to confirm your slots.
                </li>
                <li>
                    Volunteers are suggested to bring: At least 1-liter water & food, Sunscreen, Towels and an extra set of clothing for changing in case you get dirty and a pair of slippers/rainboots for cleaning the kennel</li>
                <li>
                    Regarding Monday and Friday arrangements may change from 10:00 am to 11:30 am due to limited manpower on-site. The
                    changes will be noticed a day before the service time.
                </li>
            </ul>
        </div>
    </div>
    
    <div class="container">
        <!-- Example row of columns -->
        <div id="match_btn" class="col-sm-9" style="font-size: 20px">
            <button type="button" class="btn btn-primary btn-lg" onclick="matchVolunteer()">
                <i class="fa fa-search" aria-hidden="true"></i>&nbsp&nbsp&nbspMatch Volunteers</button>
        </div>
        <div id="response_btn2" class="col-sm" style="font-size: 20px">
            <button type="button" class="btn btn-success btn-lg">
                <i class="fa fa-eye" aria-hidden="true"></i>&nbsp&nbsp&nbspView Responses (0)</button>
        </div>
        
        <div class="row">
            <div class="col-sm-1"></div>
            <div id="loader" class="loader col-sm" style="display: none"></div>
        </div>
        
        
        <h1 id="recom_text" class="display-3" style="display: none">Recommended Volunteers (</h1>
        <table class="table table-striped" style="display: none; font-size: 20px; padding-left: 5px">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Name</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody id="table"></tbody>
        </table>
        <div id="send_btn" class="col-sm-9" style="display: none; font-size: 20px" >
            <button type="button" class="btn btn-danger btn-lg" onclick="sent()">
                <i class="fa fa-envelope" aria-hidden="true"></i>&nbsp&nbsp&nbspSend Mass Emails</button>
        </div>
        <div id="response_btn" class="col-sm" style="display: none; font-size: 20px">
            <button id="response_text" type="button" class="btn btn-success btn-lg" onclick="window.location.href = 'status.html'">
                <i class="fa fa-eye" aria-hidden="true"></i>&nbsp&nbsp&nbspView Responses (</button>
        </div>
        <br>
        <br>
    </div> <!-- /container -->
    <footer>
        <div class="container">
            <p>&copy; Coding Monkeys, 2020</p>
        </div>    
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script>
    </script>

</body>

</html>